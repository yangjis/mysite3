<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="gallery">
	
	<select id="list" resultType="com.javaex.vo.GalleryVo">
		<![CDATA[
			select g.no no, 
				   g.user_no user_no, 
				   g.comments comments, 
				   g.filePath filePath, 
				   g.orgName orgName, 
				   g.saveName saveName, 
				   g.fileSize fileSize, 
				   u.name name 
			from gallery g, 
				 users u 
			where g.user_no = u.no(+)
		]]>
	</select>
	
	<insert id="insert" parameterType="com.javaex.vo.GalleryVo">
		<![CDATA[
			insert into gallery values(seq_gallery_no.nextval, 
									   #{user_no}, 
									   #{comments}, 
									   #{filePath}, 
									   #{orgName}, 
									   #{saveName}, 
									   #{fileSize}
									   )
		]]>
	</insert>
</mapper>	